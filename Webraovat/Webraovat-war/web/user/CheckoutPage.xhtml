<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"

      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <title>Bootstrap 101 Template</title>

        <!-- Bootstrap -->


        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </h:head>
    <body>
        <ui:composition template="/template/common/commonLayout.xhtml">
            <ui:define name="content">
                
                <h:outputStylesheet library="css" name="layoutcss.css"  />
                <h:outputScript rendered="#{messeger!=null}">
                    alert("#{messeger}");
                </h:outputScript>
                <div id="wrap">
                    <div class="container" style="margin-top: 10%">
                        <div class="row">
                            <div class="col-xs-8">
                                <div>
                                    <h:form id="formcheckout" rendered="true" class="form-horizontal" role="form" >
                                        <div class="form-group">

                                            <div class="col-sm-12">
                                                <label class="control-label col-sm-10" ><h4>Thông tin giao hàng</h4></label>
                                            </div>
                                        </div>


                                        <div class="form-group">
                                            <label class="control-label col-sm-3" >Tên người nhận:</label>
                                            <div class="col-sm-9">
                                                <h:inputText id="name" value="#{postController.memberSession.username}" class="form-control"  ></h:inputText>
                                                
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="control-label col-sm-3" >Email:</label>
                                            <div class="col-sm-9">
                                                <h:inputText id="email" class="form-control"  value="#{postController.memberSession.email}"></h:inputText>

                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="control-label col-sm-3" >Số điện thoại:</label>
                                            <div class="col-sm-9">
                                                <h:inputText value="#{postController.memberSession.phone}" id="phone" class="form-control" >

                                                </h:inputText>

                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="control-label col-sm-3" >Thông Tin Địa Chỉ </label>
                                            <div class="col-sm-9">          
                                                <h:inputTextarea value="#{postController.memberSession.detailsAddress}" id="adress" cols="4" rows="4"  class="form-control" ></h:inputTextarea>
                                            </div>
                                        </div>
                                        <div class="form-group">        
                                            <div class="col-sm-9">

                                                <h:commandButton class="btn btn-default " style="margin-left:200px" value="Đặt hàng" action="#{postController.SetupResultOrder()}"/>

                                            </div>
                                        </div>


                                    </h:form>
                                </div>

                            </div>
                            <div style="float: right" class="col-md-3">
                                <h:form class="form-horizontal" role="form" >
                                    <div class="row ">
                                        <div  class="form-group">
                                            <label style="text-align: center" class="control-label col-sm-12" ><h4>Thông tin đặt hàng</h4></label>

                                        </div>
                                        <hr/>
                                       <table width="100%" class="table table-hover table-bordered table-condensed">
                                            <thead>
                                                <tr>

                                                    <th style="text-align: left"><a href="#">Sản phẩm</a></th>
                                                    <th style="text-align: left"><a href="#">Số lượng</a></th>
                                                    <th style="text-align: left"><a href="#">Đơn giá</a></th>
                                                    <th style="text-align: left"><a href="#">Thành tiền</a></th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ui:repeat     var="p" value="#{postController.listCart}" varStatus="status">
                                                    <tr>
                                                        <td style="text-align: left">

                                                            <h:outputText value=" #{p.productsentity.name}" />
                                                        </td>
                                                        <td style="text-align: left">
                                                            <h:outputText value=" #{p.soluong}" />
                                                        </td>
                                                        <td style="text-align: left">
                                                            <h:outputText value=" #{p.productsentity.price}" />
                                                        </td>
                                                        <td style="text-align: left">
                                                            <h:outputText value=" #{p.productsentity.price*p.soluong}" />
                                                        </td>
                                                    </tr>
                                                </ui:repeat>
                                                
                                                <tr>
                                                    <td style="text-align: left">
                                                        <p>Tổng tiền</p>
                                                    </td>
                                                    <td colspan="3" style="text-align: right">
                                                        <h:outputLabel value="#{postController.tongtien}"/>
                                                    </td>

                                                </tr>
                                            </tbody>
                                        </table>
                               
                                    </div>
                                </h:form>
                            </div>
                            <!--/.sidebar-offcanvas-->
                        </div>
                    </div>
                </div>
            </ui:define>
        </ui:composition>






    </body>
</html>
